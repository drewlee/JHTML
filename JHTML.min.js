(function(){if(typeof JHTMLparse!=='undefined'){return;}function isArray(a){return Object.prototype.toString.call(a)==='[object Array]';}function recurseObj(obj){var tag,str='';if(isArray(obj)){for(var i=0,lgth=obj.length;i<lgth;i++){str+=recurseObj(obj[i]);}}else if(typeof obj=='object'){for(var prop in obj){tag=parseAttr(prop);str+=tag.open;str+=recurseObj(obj[prop]);str+=tag.close;}}else if(typeof obj=='string'){str+=obj+'\n';}else{str+='\n';}return str;}function parseAttr(selector){var arr=[selector],tag,attr,single=/input|meta|col|br|hr/,isSingle=false;attr=selector.match(/(\[.[^\]]+\])/g)||[];if(attr.length){arr[0]=selector.replace(attr.join(''),'');}if(selector.indexOf('.')>0){arr=arr[0].split('.');attr.push('class="'+arr.slice(1).join(' ')+'"');}if(arr[0].indexOf('#')>0){arr=arr[0].split('#');attr.push('id="'+arr[1]+'"');}tag=arr[0];if(tag.match(single)){isSingle=true;}return{open:'<'+tag+(attr.length?' '+attr.join(' ').replace(/\[|\]/g,''):'')+(isSingle?' />':'>')+'\n',close:isSingle?'':'</'+tag+'>\n'};}this.JHTMLparse=function(json){return recurseObj(json);};})();