;(function(w){if(typeof JHTMLparse!=="undefined")return;function isArray(a){return Object.prototype.toString.call(a)==="[object Array]"}function recurseObj(obj){var tag,str="";if(isArray(obj))for(var i=0,lgth=obj.length;i<lgth;i++)str+=recurseObj(obj[i]);else if(typeof obj=="object")for(var prop in obj){tag=parseAttr(prop);str+=tag.open;str+=recurseObj(obj[prop]);str+=tag.close}else if(typeof obj=="string")str+=obj;else str+="";return str}function parseAttr(selector){var arr=[],single=/^(input|meta|col|br|hr|img|link)$/i, isSingle=false;var aReg=/\[[^\]]+\]/g,attr=selector.match(aReg);if(attr){attr=attr.join(" ");attr=attr.replace(/\[|\]/g,"");arr.push(attr);selector=selector.replace(aReg,"")}var tag=selector.match(/^[^#. ]+/);if(tag)tag=tag[0];var id=selector.match(/#([^.# ]+)/);if(id)arr.push('id="'+id.pop()+'"');var cls=selector.match(/\.[^.# ]+/g);if(cls){cls=cls.join(" ");cls=cls.replace(/\./g,"");arr.push('class="'+cls+'"')}if(tag.match(single))isSingle=true;return{open:"<"+tag+(arr.length?" "+arr.join(" "): "")+(isSingle?" />":">"),close:isSingle?"":"</"+tag+">"}}w.JHTMLparse=function(json){return recurseObj(json)}})(window);